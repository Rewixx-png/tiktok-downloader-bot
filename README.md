## Описание
Этот бот позволяет пользователям Telegram скачивать видео из TikTok без водяных знаков. Вы просто отправляете боту ссылку на видео, а он в ответ присылает вам готовый видеофайл.

Бот использует неофициальное API от [TikWM](https://www.tikwm.com) для получения видео.

## Возможности
- Скачивает видео из TikTok без водяного знака.
- Работает напрямую в Telegram.
- Приветственное сообщение и инструкция по команде `/start`.
- Отправляет пользователю сообщения о статусе (обработка, ошибки).
- Уведомляет, если видео не удалось скачать.

---

## Подробная инструкция по установке с нуля
Эта инструкция рассчитана на сервер под управлением Ubuntu/Debian и поможет избежать большинства распространенных ошибок.

### Шаг 1: Подготовка сервера и установка Node.js

1.  **Обновите пакеты вашей системы.** Это хорошая практика перед установкой нового ПО.
    ```bash
    sudo apt update && sudo apt upgrade -y
    ```

2.  **Установите `curl`**, если он еще не установлен. Он понадобится для загрузки скрипта установки `nvm`.
    ```bash
    sudo apt install curl -y
    ```

3.  **Установите NVM (Node Version Manager).** Это лучший способ управлять версиями Node.js. Он позволяет легко устанавливать и переключаться между ними, избегая проблем с правами доступа.
    ```bash
    curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
    ```

4.  **Активируйте NVM.** После установки скрипт нужно "активировать" для текущей сессии терминала.
    ```bash
    export NVM_DIR="$HOME/.nvm"
    [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
    ```
    *Чтобы `nvm` был доступен всегда, закройте и снова откройте терминал или перезапустите сессию SSH.*

5.  **Установите последнюю стабильную (LTS) версию Node.js.**
    ```bash
    nvm install --lts
    ```

6.  **Проверьте, что все установилось корректно.** Вы должны увидеть версии Node.js и npm.
    ```bash
    node -v
    npm -v
    ```

### Шаг 2: Клонирование и настройка проекта

1.  **Клонируйте репозиторий проекта с GitHub.**
    ```bash
    git clone https://github.com/Rewixx-png/tiktok-downloader-bot.git
    ```

2.  **Перейдите в папку с проектом.**
    ```bash
    cd tiktok-downloader-bot
    ```

3.  **Установите все необходимые зависимости проекта.**
    ```bash
    npm install
    ```

4.  **Добавьте ваш токен от Telegram-бота.**
    Откройте файл `index.js` в текстовом редакторе, например, `nano`:
    ```bash
    nano index.js
    ```
    Найдите эту строку:
    ```javascript
    const token = 'ВАШ_ТЕЛЕГРАМ_ТОКЕН_ЗДЕСЬ';
    ```
    Замените `ВАШ_ТЕЛЕГРАМ_ТОКЕН_ЗДЕСЬ` на ваш реальный токен, который вы получили от [@BotFather](https://t.me/BotFather). **Важно:** сам токен должен остаться в одинарных кавычках.

    Для сохранения и выхода из `nano`: нажмите `Ctrl+X`, затем клавишу `Y`, а затем `Enter`.

### Шаг 3: Первый запуск для проверки
Перед тем как запустить бота на постоянную работу, давайте убедимся, что все работает.

1.  **Запустите бота напрямую:**
    ```bash
    node index.js
    ```
    Вы должны увидеть сообщение `Бот успешно запущен...`.

2.  **Проверьте бота в Telegram.** Отправьте ему команду `/start` и ссылку на видео из TikTok. Если все работает, бот пришлет вам видео.

3.  **Остановите бота** в терминале, нажав `Ctrl+C`.

### Шаг 4: Запуск бота в фоновом режиме с помощью PM2
Чтобы бот работал 24/7 и не останавливался после закрытия терминала, мы будем использовать менеджер процессов `pm2`.

1.  **Установите `pm2` глобально.**
    ```bash
    npm install pm2 -g
    ```

2.  **Запустите вашего бота с помощью `pm2`.**
    ```bash
    pm2 start index.js --name tiktok-bot
    ```
    *`--name tiktok-bot` дает вашему процессу понятное имя.*

3.  **Сохраните список процессов.** Это нужно, чтобы `pm2` автоматически запускал вашего бота после перезагрузки сервера.
    ```bash
    pm2 save
    ```

4.  **Настройте автозапуск `pm2`.** `pm2` сгенерирует команду, которую нужно будет скопировать и выполнить.
    ```bash
    pm2 startup
    ```
    *Скопируйте команду, которую выведет `pm2` (она будет выглядеть примерно как `sudo env PATH=...`), и выполните её.*

#### Управление ботом через PM2
- `pm2 list` — посмотреть список всех запущенных процессов.
- `pm2 stop tiktok-bot` — остановить бота.
- `pm2 restart tiktok-bot` — перезапустить бота (например, после обновления кода).
- `pm2 logs tiktok-bot` — посмотреть логи (ошибки и сообщения) вашего бота в реальном времени.

---

## Лицензия
Этот проект распространяется под лицензией MIT.

## Авторство
Изначальная версия проекта была создана [edizbaha](https://github.com/edizbaha).